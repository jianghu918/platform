$(document).ready(function(){ajaxsuggestshow();$(window).scroll(function(){var _;if($.browser.msie&&($.browser.version=="7.0"||$.browser.version=="8.0")){_=document.documentElement.scrollTop;var A=388-_;if(A<0)A=10;$("#c_rightinner").css("top",A+"px")}else if(self.pageYOffset){_=self.pageYOffset;A=388-_;if(A<0)A=30;$("#c_rightinner").css("top",A+"px")}else if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollTop==0)&&$.browser.msie&&$.browser.version=="6.0"){_=document.documentElement.scrollTop;A=0;if(_==0)A=10;else if(_<=365)A=10;else if(_>365)A=_-365;$("#c_rightinner").css("top",A+"px")}else if(document.body){_=document.body.scrollTop;A=388-_;if(A<0)A=30;$("#c_rightinner").css("top",A+"px")}});$("#disabledZone").ajaxStart(function(){$(this).css("visibility","visible")});$("#disabledZone").ajaxStop(function(){ajaxsuggesthide()})})
$(document).ready(function(){doValidate=function(_){var $="/^[^`~!@#$%^&*()+=|\\][]{}:;,.<>/?]{1}[^`~!@$%^&()+=|\\][]{}:;,.<>@]{0,19}$_2F";if(!$.test(_))return false;return true};var A=-1,_;$("#searchword").keyup(function(G){var F=G||window.event,C=F.keyCode;if((C>=65&&C<=90)||(C>=48&&C<=57)||(C>=96&&C<=105)||C==46||C==8||C==32){var E=jQuery.trim($("#searchword").val()),B=$("#rest_search_suggest");if(E!=""&&E.length>0){clearTimeout(_);_=setTimeout(function(){$.ajax({type:"POST",url:_context+"/search.do?method=getIndexRestfoods",data:{word:E,restaurantname:restaurantname,cityname:cityname},dataType:"json",success:function($){var _=$.words;B.html("");var D="<ul style=\"width:200px;\">";for(var C=0;C<_.length;C++)D+="<li style=\"font-size:12px;font-weight:normal;\" id="+C+" onclick=\"javascript:selRestFoodWord("+C+")\" onmouseover=\"javascript:mouseOverRestFood(this);\" onmouseout=\"javascript:mouseOutRestFood(this);\"><div class=\"result_food_name\" id=\"indexrestfoodword"+C+"\">"+_[C].foodword+"</div></li>";D+="</ul>";B.html(D);if(_.length>0)B.show();else{B.hide();A=-1}}})},250)}else{B.hide();A=-1}}else if(C==38||C==40){if(C==38){var I=$("#rest_search_suggest").children("ul");I=I.children("li");if(A!=-1){I.eq(A).css("background-color","#EEEEEE");A--}else A=I.length-1;if(A==-1)A=I.length-1;I.eq(A).css("background-color","#F8DA44")}if(C==40){var D=$("#rest_search_suggest").children("ul");D=D.children("li");if(A!=-1&&A!=D.length){D.eq(A).css("background-color","#EEEEEE");A++}if(A==-1)A=0;if(A==D.length)A=0;D.eq(A).css("background-color","#F8DA44")}}else if(C==13)if(A!=-1){var H=$("#rest_search_suggest").hide().find("li").eq(A).find("div").html();A=-1;$("#searchword").val(H);$("#searchrest").trigger("click")}else{$("#rest_search_suggest").hide();$("#searchword").get(0).blur();if($("#searchword").val()!="")$("#searchrest").trigger("click")}});mouseOutRestFood=function(_){$(_).css("background-color","#EEEEEE")};mouseOverRestFood=function(_){$("#rest_search_suggest ul").find("li").each(function(){$(this).css("background-color","#EEEEEE")});A=$(_).attr("id");$(_).css("background-color","#F8DA44")};selRestFoodWord=function(_){$("#searchword").val($("#indexrestfoodword"+_).text());$("#rest_search_suggest").hide();$("#searchrest").trigger("click")}})
$(document).ready(function(){function _(C){if(C){if($.browser.msie)C=encodeURIComponent(C);var A=C.split("_"),E=decodeURIComponent(A[4]);if(E=="0")$("#searchword").val("");else $("#searchword").val(E);$("#pageno").val(A[1]);$("#restaurantid").val(A[2]);var _=A[3];if(_=="0")$("#restfoodtype").val("");else $("#restfoodtype").val(_);var B=A[0];$("#filterobject").val(B);$("#tabs ul li").removeAttr("class");if(B=="wordsearch")$("#allrestfood").parent().attr("class","current");else $("#"+B).parent().attr("class","current");var F=A[5],D=A[6];if(D=="x")$("#type").val("");else $("#type").val(D);if(F=="x")$("#foodtype").val("");else $("#foodtype").val(F);getPageFood2()}else{$("#searchword").val("");$("#tabs ul li").removeAttr("class");$("#allrestfood").parent().attr("class","current");$("#filterobject").val("allrestfood");$("#restfoodtype").val("");$("#type").val("");$("#foodtype").val("");$("#pageno").val("1");getPageFood2()}}if($.browser.msie)$.historyInit(_);else $.historyInit(_,"#")})
