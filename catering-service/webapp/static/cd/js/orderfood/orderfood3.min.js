$(document).ready(function(){moveoversubfilterfood=function(obj){$(obj).prev().addClass('filtercurrent');}
loadNotice=function(){var number=Math.random();$.ajax({type:"POST",url:_context+"/restaurantmain.do?method=getRestBulletin",dataType:"json",data:{restaurantid:restaurantid,number:number},success:function(json)
{var bulletins=json.bulletins;var notices=new Array(),j=0;var contentLength=35;for(var i=0;i<bulletins.length;i++){if(bulletins[i].recommtype=='2')notices[j++]=bulletins[i];}
if(notices.length<=0){$("#noticeTabs").remove();}else{$("#noticeTabs").css("display","block");var $ul=$("<ul id='noticeUl'></ul>");for(var m=0;m<notices.length;m++){var notice=notices[m].content;var end=(contentLength<notice.length?contentLength:notice.length)-1;var $li=$("<li></li>").html(notice.substr(0,end));$ul.append($li);}
$("#noticeTabs").append($ul);$("#noticeUl li:not(:first)").css("display","none");var B=$("#noticeUl li:last");var C=$("#noticeUl li:first");setInterval(function(){if($("#noticeUl li").length==1){B.hide();B.fadeIn(1000).addClass("in")}else if(B.is(":visible")){C.fadeIn(1000).addClass("in");B.hide()}else{$("#noticeUl li:visible").addClass("in");$("#noticeUl li.in").next().fadeIn(1000);$("li.in").hide().removeClass("in")}},4000)}}});}
loadDetailClassfitlerdatas=function(){var number=Math.random();$.ajax({type:"POST",url:_context+"/orderfood.do?method=getClassfilterDatas",dataType:"json",data:{restaurantid:restaurantid,number:number},success:function(json)
{var alcoltypes=json.alcoltypes;var tastetypes=json.tastetypes;var cookingmodetypes=json.cookingmodetypes;var dishestypes=json.dishestypes;var rawmaterialtypes=json.rawmaterialtypes;var rawmaterialhtml='';for(var i=0;i<rawmaterialtypes.length;i++){rawmaterialhtml+='<a href="javascript:filterDetailRawmaterialResult('+restaurantid+', \''+restaurantname+'\', 1, '+rawmaterialtypes[i].id+')">'+rawmaterialtypes[i].name+'</a>';}
$("#rawmateriallist").html(rawmaterialhtml);var disheshtml='';for(var j=0;j<dishestypes.length;j++){if(dishestypes[j].name!='主食'){disheshtml+='<a href="javascript:filterDetailDishesResult('+restaurantid+', \''+restaurantname+'\', 1, '+dishestypes[j].id+')">'+dishestypes[j].name+'</a>';}}
$("#disheslist").html(disheshtml);var cookingmethodhtml='';for(var k=0;k<cookingmodetypes.length;k++){cookingmethodhtml+='<a href="javascript:filterDetailCookingResult('+restaurantid+', \''+restaurantname+'\', 1, '+cookingmodetypes[k].id+')">'+cookingmodetypes[k].name+'</a>';}
$("#cookinglist").html(cookingmethodhtml);var tastehtml='';for(var m=0;m<tastetypes.length;m++){tastehtml+='<a href="javascript:filterDetailTasteResult('+restaurantid+', \''+restaurantname+'\', 1, '+tastetypes[m].id+')">'+tastetypes[m].name+'</a>';}
$("#tastelist").html(tastehtml);var alcohtml='';for(var a=0;a<alcoltypes.length;a++){alcohtml+='<a href="javascript:filterDetailAlcoholResult('+restaurantid+', \''+restaurantname+'\', 2, '+alcoltypes[a].id+')">'+alcoltypes[a].name+'</a>';}
$("#alcohollist").html(alcohtml);var setmealshtml='<a href="javascript:filterDetailSetmealsotherfoodResult('+restaurantid+', \''+restaurantname+'\', 3)">套餐</a>';$("#setmealslist").html(setmealshtml);var otherfoodhtml='<a href="javascript:filterDetailSetmealsotherfoodResult('+restaurantid+', \''+restaurantname+'\', 4)">小吃</a>';$("#otherfoodlist").html(otherfoodhtml);var mainfoodhtml='';var bmainfood=false;for(var j=0;j<dishestypes.length;j++){if(dishestypes[j].name=='主食'){mainfoodhtml='<a href="javascript:filterDetailDishesResult('+restaurantid+', \''+restaurantname+'\', 1, '+dishestypes[j].id+')">主食</a>';bmainfood=true;}}
if(bmainfood==false){mainfoodhtml='<a href="javascript:filterDetailDishesResult('+restaurantid+', \''+restaurantname+'\', 1, 0)">主食</a>';}
$("#mainfoodlist").html(mainfoodhtml);getFoodTotalComment();}});}
allrestfoodclick=function(){$("#allrestfood").click();}
getFoodTotalComment=function(){var number=Math.random();$.ajax({type:"POST",url:_context+"/fooddetail.do?method=getTotalCommentinfo",dataType:"json",data:{foodid:fooddetailid,foodtype:foodtype,number:number},success:function(json)
{var color=json.color;var taste=json.taste;var overall=json.overall;var scent=json.scent;var recommendindex=json.recommendindex;var commentcnts=json.commentcnts;var totalscores=json.totalscores;var cnt=json.cnt;$(".totalcommentcnt").append('<span style="font-family:Georgia,Helvetica,Arial;color:#999999;font-size:16px">'+commentcnts+'</span>');$(".totalcnt").append('<span style="font-family:Georgia,Helvetica,Arial;color:#999999;font-size:16px">'+cnt+'</span>');if(totalscores=='0'){$("#totalcommscoresdiv").hide();}else{$(".totaltaste").append(getStarfromcomment(taste));$(".totalcolor").append(getStarfromcomment(color));$(".totalscent").append(getStarfromcomment(scent));$(".totaloverall").append(getStarfromcomment(overall));$(".totalrecommindex").append(getStarfromcomment(recommendindex));$(".totalscores").html(totalscores);}
if(foodtype==3){getSetmealsInfo(fooddetailid);}}});}
function itemComing(htmlControlClassName){var targetClassName="."+htmlControlClassName;$(targetClassName).each(function(i){var isLeft=parseInt(Math.random()*1000)%9>4?true:false;if(isLeft){$(this).css({left:$(this).offset().left-1000});}else{$(this).css({left:$(this).offset().left+1000});}});$(targetClassName).css({"visibility":"visible"});var waitEnd=0;$(targetClassName).each(function(i){$(this).stop();$(this).animate({left:"0px",opacity:1},parseInt(Math.random()*2000)+1,function(){if(++waitEnd==$(targetClassName).size()){}});});}
PageFoodClick2=function(pageclickednumber){var totalpages=$("#totalpage").val();$("#pager").pager({pagenumber:pageclickednumber,pagecount:totalpages,buttonClickCallback:PageFoodClick2});$("#pageno").val(pageclickednumber);var filterobject=$("#filterobject").val();if(filterobject==''){filterobject='allrestfood';}
var restfoodtype=$("#restfoodtype").val();if(restfoodtype==''){restfoodtype='0';}
var searchword=$("#searchword").val();if(searchword==''){searchword='0';}
var hashstr=filterobject+'_'+pageclickednumber+'_'+restaurantid+'_'+restfoodtype+'_'+searchword;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);var body=(window.opera)?(document.compatMode=="CSS1Compat"?$('html'):$('body')):$('html,body');body.animate({scrollTop:$('#right-menu').offset().top-100},50);}
var cookieset={path:_context+'default.htm',domain:'cdian.cn'};var expires={expires:1,path:_context+'default.htm',domain:'cdian.cn'};delCartRecord=function(foodid,foodtype){$("#delrecdig").dialog({bgiframe:true,draggable:true,modal:true,buttons:{'取消':function(){$(this).dialog('close');},'确认':function(){var cartlist=$.cookie("cartcookie");var tempcartlist=new String(cartlist);var cartlistarray=tempcartlist.split("|");var newarray=new Array();var i=0;var j=0;while(i<cartlistarray.length){if(!(foodid==cartlistarray[i]&&foodtype==cartlistarray[i+1])){newarray[j]=cartlistarray[i];newarray[j+1]=cartlistarray[i+1];newarray[j+2]=cartlistarray[i+2];newarray[j+3]=cartlistarray[i+3];newarray[j+4]=cartlistarray[i+4];j+=5;}
i+=5;}
if(newarray.length>0){var resultstr=newarray[0];for(var j=1;j<newarray.length;j++){resultstr+="|"+newarray[j];}
cartlist=resultstr;$.cookie("cartcookie",cartlist,cookieset);}else{$.cookie("cartcookie",null,expires);}
$(this).dialog('destroy');}}});$("#delrecdig").dialog('open');}
delAddCartQuantity=function(index,action,foodid,foodtype){var quantity=$("#cartquantiy"+index).val();if(action==0){$("#cartquantiy"+index).val(parseInt(quantity)+1);}else{if(quantity>1){$("#cartquantiy"+index).val(parseInt(quantity)-1);}}
var cartlist=$.cookie("cartcookie");var tempcartlist=new String(cartlist);var cartlistarray=tempcartlist.split("|");var i=0;while(i<cartlistarray.length){if(foodid==cartlistarray[i]&&foodtype==cartlistarray[i+1]){var oriquantity=cartlistarray[i+3];var orimoney=cartlistarray[i+2];var moneyperquantity=formatFloat(formatFloat(orimoney,2)/parseInt(oriquantity),2);cartlistarray[i+3]=parseInt($("#cartquantiy"+index).val());cartlistarray[i+2]=formatFloat(moneyperquantity*parseInt($("#cartquantiy"+index).val()),2);}
i+=5;}
var resultstr=cartlistarray[0];for(var j=1;j<cartlistarray.length;j++){resultstr+="|"+cartlistarray[j];}
cartlist=resultstr;$.cookie("cartcookie",cartlist,cookieset);}
delAddQuantity=function(index,action){var quantity=$("#quantity"+index).val();if(action==0){$("#quantity"+index).val(parseInt(quantity)+1);}else{if(quantity>1){$("#quantity"+index).val(parseInt(quantity)-1);}}}
var diffrestwidth;var diffrestheight;if($.browser.msie){diffrestwidth=500;diffrestheight=280;}else{diffrestwidth=450;diffrestheight=280;}
addToMyCartnoleave4=function(foodid,foodtype,curprice,index,foodname,restid,obj){var restaurid=$.cookie("restaurantid");var cartlist=$.cookie("cartcookie");if(restaurid!=null&&restaurid!=restid&&cartlist!=''&&cartlist!=null){$("#adddiffrest").dialog({bgiframe:true,draggable:true,modal:true,width:diffrestwidth,height:diffrestheight,buttons:{'取消':function(){$(this).dialog('close');},'确认':function(){$(obj).parent().find(".successaddmenu2").show();$.cookie("cartcookie",null,expires);$(this).dialog('destroy');addTomycart2(foodid,foodtype,curprice,index,foodname,restid);setTimeout(function(){$(obj).parent().find(".successaddmenu2").hide();},2000);}}});$("#adddiffrest").dialog('open');}else{$(obj).parent().find(".successaddmenu2").show();addTomycart2(foodid,foodtype,curprice,index,foodname,restid);setTimeout(function(){$(obj).parent().find(".successaddmenu2").hide();},2000);}}
addToMyCartnoleave3=function(foodid,foodtype,curprice,index,foodname,restid,obj){var restaurid=$.cookie("restaurantid");var cartlist=$.cookie("cartcookie");if(restaurid!=null&&restaurid!=restid&&cartlist!=''&&cartlist!=null){$("#adddiffrest").dialog({bgiframe:true,draggable:true,modal:true,width:diffrestwidth,height:diffrestheight,buttons:{'取消':function(){$(this).dialog('close');},'确认':function(){$(obj).parent().find(".successaddmenu").show();$.cookie("cartcookie",null,expires);$(this).dialog('destroy');addTomycart2(foodid,foodtype,curprice,index,foodname,restid);setTimeout(function(){$(obj).parent().find(".successaddmenu").hide();},2000);}}});$("#adddiffrest").dialog('open');}else{$(obj).parent().find(".successaddmenu").show();addTomycart2(foodid,foodtype,curprice,index,foodname,restid);setTimeout(function(){$(obj).parent().find(".successaddmenu").hide();},2000);}}
addToMyCartnoleave4=function(foodid,foodtype,curprice,index,foodname,restid,obj){var restaurid=$.cookie("restaurantid");var cartlist=$.cookie("cartcookie");if(restaurid!=null&&restaurid!=restid&&cartlist!=''&&cartlist!=null){$("#adddiffrest").dialog({bgiframe:true,draggable:true,modal:true,width:diffrestwidth,height:diffrestheight,buttons:{'取消':function(){$(this).dialog('close');},'确认':function(){$(obj).parent().parent().find(".successaddmenu1").show();$.cookie("cartcookie",null,expires);$(this).dialog('destroy');addTomycart2(foodid,foodtype,curprice,index,foodname,restid);setTimeout(function(){$(obj).parent().parent().find(".successaddmenu1").hide();},2000);}}});$("#adddiffrest").dialog('open');}else{$(obj).parent().parent().find(".successaddmenu1").show();addTomycart2(foodid,foodtype,curprice,index,foodname,restid);setTimeout(function(){$(obj).parent().parent().find(".successaddmenu1").hide();},2000);}}
addToMyCartnoleave2=function(foodid,foodtype,curprice,index,foodname,restid,obj){var restaurid=$.cookie("restaurantid");var cartlist=$.cookie("cartcookie");if(restaurid!=null&&restaurid!=restid&&cartlist!=''&&cartlist!=null){$("#adddiffrest").dialog({bgiframe:true,draggable:true,modal:true,width:diffrestwidth,height:diffrestheight,buttons:{'取消':function(){$(this).dialog('close');},'确认':function(){$(obj).parent().parent().find(".successaddmenu").show();$.cookie("cartcookie",null,expires);$(this).dialog('destroy');addTomycart2(foodid,foodtype,curprice,index,foodname,restid);setTimeout(function(){$(obj).parent().parent().find(".successaddmenu").hide();},2000);}}});$("#adddiffrest").dialog('open');}else{addTomycart2(foodid,foodtype,curprice,index,foodname,restid,obj);}}
mouseOverAlcohol=function(obj){$(obj).addClass('liHover');}
mouseoutAlcohol=function(obj){$(obj).removeClass('liHover');}
getPageFood2=function(){var pageno=$("#pageno").val();var restfoodtype=$("#restfoodtype").val();var filterobject=$("#filterobject").val();var searchword=$("#searchword").val();if(searchword!=''){$("#labelforrestsearch").hide();}else{$("#labelforrestsearch").show();}
var restaurantid=$("#restaurantid").val();var foodtype=$("#foodtype").val();var type=$("#type").val();var number=Math.random();var pageSize=18;$.ajax({type:"POST",url:_context+"/orderfood.do?method=getPageRestaurantFood2",dataType:"json",data:{searchword:searchword,foodtype:foodtype,type:type,restfoodtype:restfoodtype,filterobject:filterobject,pageno:pageno,restaurantid:restaurantid,number:number,pageSize:pageSize},success:function(json){var foods=json.foods;var alcoltypes=json.alcoholtypes;var totalpage=json.totalpage;var length=foods.length;var displaystyle=json.displaystyle;var html2='';if(foodtype=='2'){var alcoholtypename=$("#alcoholtypename").val();html2+='<div class="whaterBlok">'+'<div class="clearfix whaterBlokTittle">'+'<div><img width="730" height="5" src="'+_context+'/images/orderfood/round1.gif"/></div>'+'<div style="padding-left:15px !important;padding-left:0px;">'+'<table width="730" id="secondType">'+'<tbody>';for(var a=0;a<alcoltypes.length;a++){if(a%6==0){html2+='<tr><td width="20%"><a href="javascript:clkrestfoodtype2(2, '+alcoltypes[a].id+', 0, this, \''+alcoltypes[a].name+'\')"';if(restfoodtype==alcoltypes[a].id){html2+='class="selected"';}
html2+='>'+alcoltypes[a].name+'</a></td>';}else{html2+='<td width="16%"><a href="javascript:clkrestfoodtype2(2, '+alcoltypes[a].id+', 0, this, \''+alcoltypes[a].name+'\')"';if(restfoodtype==alcoltypes[a].id){html2+='class="selected"';}
html2+='>'+alcoltypes[a].name+'</a></td>';}
if((a+1)%6==0){html2+='</tr>';}}
html2+='</tbody>'+'</table>'+'</div>'+'<div><img src="'+_context+'/images/orderfood/round2.gif"/></div>'+'</div>'+'<div style="margin-top:15px;"><img width="730" height="5" src="'+_context+'/images/orderfood/round1.gif"/></div>'+'<ul class="whaterSheet">';for(var m=0;m<length;m++){if(m%2==0){html2+='<li class="liEven clearfix" onmouseover="javascript:mouseOverAlcohol(this);" onmouseout="javascript:mouseoutAlcohol(this);">';}else{html2+='<li class="liOdd clearfix" onmouseover="javascript:mouseOverAlcohol(this);" onmouseout="javascript:mouseoutAlcohol(this);">';}
html2+='<p class="left pTittle">'+foods[m].name+'</p><p class="left"><span>';if(foods[m].makingmethod==''||foods[m].makingmethod=='undefined'||foods[m].makingmethod==undefined){html2+='---';}else{html2+=foods[m].makingmethod;}
html2+='</span></p> <p class="left gray"> <del>￥'+foods[m].price+'</del></p><p class="left "><span class="price">￥'+foods[m].curprice+'</span>./'+foods[m].unitdesc+'</p>';if(foods[m].issupplytype=='0'){html2+='<p class="left"><a onclick="javascript:addToMyCartnoleave4(\''+foods[m].foodid+'\', \''+foods[m].foodtype+'\', \''+foods[m].curprice+'\', \'0\', \''+foods[m].name+'\', \''+restaurantid+'\', this);"><img src="'+_context+'/images/orderfood/btnAddToDiet.gif" /></a></p>';}else{html2+='<p class="left"><a href="javascript:void(0);"><img src="'+_context+'/images/orderfood/btnAddToDiet2.gif" /></a></p>';}
html2+='<div class="successaddmenu1">成功加入菜单</div></li>';}
html2+='</ul><div style="position:relative;*top:-5px;"><img width="730" height="5" src="'+_context+'/images/orderfood/round2.gif"/></div></div>';}else{html2+='<ul class="listStyleUl">';for(var m=0;m<length;m++){if(m%2==0){if(m>=length-2){html2+='<li class="liEven clearfix" style="border:none" onmouseover="javascript:mouseOverAlcohol(this);" onmouseout="javascript:mouseoutAlcohol(this);">';}
else{html2+='<li class="liEven clearfix" onmouseover="javascript:mouseOverAlcohol(this);" onmouseout="javascript:mouseoutAlcohol(this);">';}}else{if(m>=length-1){html2+='<li class="liOdd clearfix" style="border:none" onmouseover="javascript:mouseOverAlcohol(this);" onmouseout="javascript:mouseoutAlcohol(this);">';}
else{html2+='<li class="liOdd clearfix" onmouseover="javascript:mouseOverAlcohol(this);" onmouseout="javascript:mouseoutAlcohol(this);">';}}
html2+='<p class="left pTittle">'+foods[m].name+'</p>'
html2+='<p class="left gray"> 原价<del>￥'+foods[m].price+'</del></p><p class="left "><span class="price">折扣价￥'+foods[m].curprice+'</span>./'+foods[m].unitdesc+'</p>';if(foods[m].issupplytype=='0'){html2+='<p class="right"><a onclick="javascript:addToMyCartnoleave4(\''+foods[m].foodid+'\', \''+foods[m].foodtype+'\', \''+foods[m].curprice+'\', \'0\', \''+foods[m].name+'\', \''+restaurantid+'\', this);"><img src="'+_context+'/images/orderfood/btnAddToDiet.gif" /></a></p>';}else{html2+='<p class="right"><a href="javascript:void(0);"><img src="'+_context+'/images/orderfood/btnAddToDiet2.gif" /></a></p>';}
html2+='<div class="successaddmenu1">成功加入菜单</div></li>';}
if(length%2!=0){html2+='<li class="liOdd clearfix" style="border:none;height:49px;*height:45px;"></li>';}
html2+='</ul>';}
$('div[name="foodlist"]').html(html2);itemComing("divli");$("#totalpage").val(totalpage);if(totalpage>1){$("#pager").pager({pagenumber:pageno,pagecount:totalpage,buttonClickCallback:PageFoodClick2});}else{$("#pager").html('');}
if(length<=0){$('div[name="foodlist"]').html('<div class="noticeSign "><h3> 很抱歉！暂无记录，请重新操作！</h3></div>');$("#pager").html('');}}});}
loadClassfilterdatas2=function(){var number=Math.random();$.ajax({type:"POST",url:_context+"/orderfood.do?method=getClassfilterDatas2",dataType:"json",data:{restaurantid:restaurantid,number:number},success:function(json){var restfoodtypes=json.restfoodtypes;var alcoltypes=json.alcoltypes;var dishestypes=json.dishestypes;var html='';for(var i=0;i<restfoodtypes.length;i++){if(biztype=='0'||biztype=='1'){html+='<li >'+'<a href="javascript:void(0);" onclick="clkrestfoodtype(1, \''+restfoodtypes[i].id+'\', 0, this)">'+restfoodtypes[i].name+'展示</a>'+'</li>';}else{html+='<li >'+'<a href="javascript:void(0);" onclick="clkrestfoodtype(1, \''+restfoodtypes[i].id+'\', 0, this)">'+restfoodtypes[i].name+'</a>';if(restfoodtypes[i].displaystyle=='2')html+='<i class="new_hot"></i>';html+='</li>';}}
if(dishestypes.length!=0){if(biztype=='0'||biztype=='1'){html+='<li>'+'<a href="javascript:void(0);" onclick="clkrestfoodtype(1, \''+dishestypes[0].id+'\', 1, this)">主食展示</a>'+'</li>';}else{html+='<li>'+'<a href="javascript:void(0);" onfocus="this.blur()" onclick="clkrestfoodtype(1, \''+dishestypes[0].id+'\', 1, this)">点主食</a>'+'</li>';}}
html+='<li>'+'<a href="javascript:void(0);" onfocus="this.blur()" onclick="javascript:clkrestfoodtype(2, 0, 0, this)">';if(alcoltypes.length!=0){if(biztype=='0'||biztype=='1'){html+='酒水展示';}else{html+='点酒水';}}
html+='</a></li>';$("#filtertypelist").html(html);isopensoon=true;getPageFood2();}});}
loadClassfilterdatas=function(){var number=Math.random();$.ajax({type:"POST",url:_context+"/orderfood.do?method=getClassfilterDatas",dataType:"json",data:{restaurantid:restaurantid,number:number},success:function(json)
{var alcoltypes=json.alcoltypes;var tastetypes=json.tastetypes;var cookingmodetypes=json.cookingmodetypes;var dishestypes=json.dishestypes;var rawmaterialtypes=json.rawmaterialtypes;var rawmaterialhtml='';for(var i=0;i<rawmaterialtypes.length;i++){rawmaterialhtml+='<a href="javascript:filterRawmaterialResult(1, '+rawmaterialtypes[i].id+')">'+rawmaterialtypes[i].name+'</a>';}
$("#rawmateriallist").html(rawmaterialhtml);var disheshtml='';for(var j=0;j<dishestypes.length;j++){if(dishestypes[j].name!='主食'){disheshtml+='<a href="javascript:filterDishesResult(1, '+dishestypes[j].id+')">'+dishestypes[j].name+'</a>';}}
$("#disheslist").html(disheshtml);var cookingmethodhtml='';for(var k=0;k<cookingmodetypes.length;k++){cookingmethodhtml+='<a href="javascript:filterCookingResult(1, '+cookingmodetypes[k].id+')">'+cookingmodetypes[k].name+'</a>';}
$("#cookinglist").html(cookingmethodhtml);var tastehtml='';for(var m=0;m<tastetypes.length;m++){tastehtml+='<a href="javascript:filterTasteResult(1, '+tastetypes[m].id+')">'+tastetypes[m].name+'</a>';}
$("#tastelist").html(tastehtml);var alcohtml='';for(var a=0;a<alcoltypes.length;a++){alcohtml+='<a href="javascript:filterAlcoholResult(2, '+alcoltypes[a].id+')">'+alcoltypes[a].name+'</a>';}
$("#alcohollist").html(alcohtml);var setmealshtml='<a href="javascript:filterSetmealsResult(3)">套餐</a>';$("#setmealslist").html(setmealshtml);var otherfoodhtml='<a href="javascript:filterotherfoodResult(4)">小吃</a>';$("#otherfoodlist").html(otherfoodhtml);var mainfoodhtml='';var bmainfood=false;for(var j=0;j<dishestypes.length;j++){if(dishestypes[j].name=='主食'){mainfoodhtml='<a href="javascript:filterDishesResult(1, '+dishestypes[j].id+')">主食</a>';bmainfood=true;}}
if(bmainfood==false){mainfoodhtml='<a href="javascript:filterDishesResult(1, 0)">点主食</a>';}
$("#mainfoodlist").html(mainfoodhtml);}});}
clearInfo=function(menuname){var filterobject=$("#filterobject").val();if(filterobject!=''&&filterobject!=menuname){$("#pageno").val("");$("#pageno").val("1");$("#totalpage").val("");$("#sorttype").val("");$("#filterobject").val("");$("#pageSize").val("");$(".displaynumber").find('a').removeClass('current');$(".displaynumber").find('a:eq(0)').addClass('current');$("#paixu").find('img').attr("src",_context+"/images/customer/sort.gif");$(".pricerange").find('select').val('');$("#pricerangesel").val('');}};$("#maindishfilter img:eq(1)").click(function(){if($("#maindishfilter .cart_cai").is(":hidden")){$("#maindishfilter img:eq(1)").attr("src",''+_context+'/images/orderfood/jian_03.jpg');$("#maindishfilter .cart_cai").show();}else{$("#maindishfilter img:eq(1)").attr("src",''+_context+'/images/orderfood/jia_03.jpg');$("#maindishfilter .cart_cai").hide();}});$("#alcoholfilter img:eq(1)").click(function(){if($("#alcoholfilter .cart_cai").is(":hidden")){$("#alcoholfilter img:eq(1)").attr("src",''+_context+'/images/orderfood/jian_03.jpg');$("#alcoholfilter .cart_cai").show();}else{$("#alcoholfilter img:eq(1)").attr("src",''+_context+'/images/orderfood/jia_03.jpg');$("#alcoholfilter .cart_cai").hide();}});searchrestword=function(){var searchword=$("#searchword").val();if(searchword==''){$("#searchword").focus();return;};$("#filterobject").val("wordsearch");var filterobject=$("#filterobject").val();var pageno=$("#pageno").val();var restaurantid=$("#restaurantid").val();var sorttype=$("#sorttype").val();var pricerange=$("#pricerangesel").val();var foodtype=$("#foodtype").val();var dishalcotype=$("#dishalcotype").val();var dishestype=$("#dishestype").val();var cookingtype=$("#cookingtype").val();var tastetype=$("#tastetype").val();var rawmaterialtype=$("#rawmaterialtype").val();var pageSize=$("#pageSize").val();var number=Math.random();$.ajax({type:"POST",url:_context+"/orderfood.do?method=getWordSearch",dataType:"json",data:{searchword:searchword,pageSize:pageSize,pageno:pageno,restaurantid:restaurantid,filterobject:filterobject,sorttype:sorttype,foodtype:foodtype,dishalcotype:dishalcotype,dishestype:dishestype,cookingtype:cookingtype,tastetype:tastetype,rawmaterialtype:rawmaterialtype,pricerange:pricerange,number:number},success:function(json)
{var items=json.fooditems;if(items.length>0){$("#orderitems").html("")
$("#orderitems").html(getDiv(items));updateFoodDescription(items);for(var i=0;i<items.length;i++){if(items[i].specflag==1){$("#specflag"+i).show();}else{$("#specflag"+i).hide();}
if(items[i].unitflag==0||items[i].unitflag==''||items[i].unitflag==null){$("#unitflag"+i).text("");}else{$("#unitflag"+i).text("./"+items[i].unitdesc);}}
for(var i=0;i<items.length;i++){var html='';if(items[i].specflag==1){}else if(items[i].specflag==0&&items[i].discountrate!=10){html+='['+items[i].discountrate+'折]';$("#pricearea"+i).append(html);}}
updateStarComment(items);updateSetmealDetails(items);$("#totalpage").val("");$("#totalpage").val(json.totalpage);if(json.totalpage>1){if(pageno=='')pageno='1';$("#pager").pager({pagenumber:pageno,pagecount:json.totalpage,buttonClickCallback:PageClick});}else{$("#pager").html("");}}else{$("#pager").html("");$("#orderitems").html('  <div class="noticeSign "><h3> 很抱歉！暂无记录，请重新操作！</h3> </div>');$("#orderitems").show();}}});}
searchorderfood=function(){var searchword=$("#searchword").val();if(searchword!=''){$("#labelforrestsearch").hide();}else{$("#labelforrestsearch").show();}
var filterobject=$("#filterobject").val();var pageno=$("#pageno").val();var restaurantid=$("#restaurantid").val();var sorttype=$("#sorttype").val();var foodtype=$("#foodtype").val();var pricerange=$("#pricerangesel").val();var dishalcotype=$("#dishalcotype").val();var dishestype=$("#dishestype").val();var cookingtype=$("#cookingtype").val();var tastetype=$("#tastetype").val();var rawmaterialtype=$("#rawmaterialtype").val();var pageSize=$("#pageSize").val();var number=Math.random();$.ajax({type:"POST",url:_context+"/orderfood.do?method=getWordSearch",dataType:"json",data:{searchword:searchword,pageSize:pageSize,pageno:pageno,restaurantid:restaurantid,filterobject:filterobject,sorttype:sorttype,foodtype:foodtype,dishalcotype:dishalcotype,dishestype:dishestype,cookingtype:cookingtype,tastetype:tastetype,rawmaterialtype:rawmaterialtype,pricerange:pricerange,number:number},success:function(json)
{var items=json.fooditems;if(items.length>0){$("#orderitems").html(getDiv(items));if(biztype=='0'||biztype=='1'){$(".addin_menu").hide();}
updateFoodDescription(items);for(var i=0;i<items.length;i++){if(items[i].specflag==1){$("#specflag"+i).show();}else{$("#specflag"+i).hide();}
if(items[i].unitflag==0||items[i].unitflag==''||items[i].unitflag==null){$("#unitflag"+i).text("");}else{$("#unitflag"+i).text("./"+items[i].unitdesc);}
if(items[i].supplytype==1){$("#addtocart"+i).html('<span style="color:#999;cursor:default;">暂停供应</span>');}}
for(var i=0;i<items.length;i++){var html='';if(items[i].specflag==1){}else if(items[i].specflag==0&&items[i].discountrate!=10){html+='['+items[i].discountrate+'折]';$("#pricearea"+i).append(html);}}
updateStarComment(items);updateSetmealDetails(items);$("#totalpage").val("");$("#totalpage").val(json.totalpage);if(json.totalpage>1){$("#pager").pager({pagenumber:pageno,pagecount:json.totalpage,buttonClickCallback:PageClick});}else{$("#pager").html("");}
$("#title_c").show();}else{$("#pager").html("");$("#orderitems").html('  <div class="noticeSign "><h3> 很抱歉！暂无记录，请重新操作！</h3> </div>');$("#orderitems").show();$("#title_c").hide();}}});}
$("#searchrest").click(function(){var restfiltertype=$("#restfiltertype").val();var searchword=$("#searchword").val();if(searchword==''){$("#searchword").focus();return;};$("#rest_search_suggest").hide();$("span[name='menutitle']").html('所有');$("span[name='menutitle']").unbind('click');$("span[name='menutitle']").bind('click',function(event){$("#allrestfood").click();event.stopPropagation();});$("span[name='menusectitle']").unbind('click');$("span[name='menusectitle']").html('>关键词\'<font color="black">'+searchword+'</font>\'').show();$("span[name='menusectitle']").bind('click',function(event){$("#searchrest").click();event.stopPropagation();});$("span[name='menusectitle']").next().remove();$("span[name='menusectitle']").css('cursor','pointer');$("#filtertypelist").find('li').removeClass('filtercurrent');var hashstr='';if(restfiltertype=='0'||restfiltertype=='2'){hashstr='wordsearch_1_'+restaurantid+'_0_'+searchword;}else{hashstr='wordsearch_1_10_'+restaurantid+'_0_0_0_x_0_0_0_0_'+searchword;}
hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);});PageClick=function(pageclickednumber){var totalpages=$("#totalpage").val();$("#pager").pager({pagenumber:pageclickednumber,pagecount:totalpages,buttonClickCallback:PageClick});$("#pageno").val(pageclickednumber);var searchword=$("#searchword").val();if(searchword==''){searchword='0';}
var filterobject=$("#filterobject").val();if(filterobject==''){filterobject='allrestfood';}
var restaurantid=$("#restaurantid").val();var foodtype=$("#foodtype").val();if(foodtype==''){foodtype='0';}
var pricerange=$("#pricerangesel").val();if(pricerange==''){pricerange='x';}
var dishalcotype=$("#dishalcotype").val();if(dishalcotype==''){dishalcotype='0';}
var dishestype=$("#dishestype").val();if(dishestype==''){dishestype='0';}
var cookingtype=$("#cookingtype").val();if(cookingtype==''){cookingtype='0';}
var tastetype=$("#tastetype").val();if(tastetype==''){tastetype='0';}
var rawmaterialtype=$("#rawmaterialtype").val();if(rawmaterialtype==''){rawmaterialtype='0';}
var pageSize=$("#pageSize").val();if(pageSize==''){pageSize='10';}
var newsorttype=$("#sorttype").val();if(newsorttype==''){newsorttype='0';}
var hashstr=filterobject+'_'+pageclickednumber+'_'+pageSize+'_'+restaurantid+'_'+newsorttype+'_'+foodtype+'_'+dishalcotype+'_'+pricerange+'_'+dishestype+'_'+cookingtype+'_'+tastetype+'_'+rawmaterialtype+'_'+searchword;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);var body=(window.opera)?(document.compatMode=="CSS1Compat"?$('html'):$('body')):$('html,body');body.animate({scrollTop:$('#right-menu').offset().top-100},50);}
selectPricerange=function(obj){$("#pricerangesel").val('');$("#pricerangesel").val($(obj).val());var searchword=$("#searchword").val();if(searchword==''){searchword='0';}
var filterobject=$("#filterobject").val();if(filterobject==''){filterobject='allrestfood';}
var restaurantid=$("#restaurantid").val();var foodtype=$("#foodtype").val();if(foodtype==''){foodtype='0';}
var pricerange=$("#pricerangesel").val();if(pricerange==''){pricerange='x';}
var dishalcotype=$("#dishalcotype").val();if(dishalcotype==''){dishalcotype='0';}
var dishestype=$("#dishestype").val();if(dishestype==''){dishestype='0';}
var cookingtype=$("#cookingtype").val();if(cookingtype==''){cookingtype='0';}
var tastetype=$("#tastetype").val();if(tastetype==''){tastetype='0';}
var rawmaterialtype=$("#rawmaterialtype").val();if(rawmaterialtype==''){rawmaterialtype='0';}
var pageSize=$("#pageSize").val();if(pageSize==''){pageSize='10';}
var newsorttype=$("#sorttype").val();if(newsorttype==''){newsorttype='0';}
var hashstr=filterobject+'_1_'+pageSize+'_'+restaurantid+'_'+newsorttype+'_'+foodtype+'_'+dishalcotype+'_'+pricerange+'_'+dishestype+'_'+cookingtype+'_'+tastetype+'_'+rawmaterialtype+'_'+searchword;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}
selectPageSize=function(pageSize,id){var searchword=$("#searchword").val();if(searchword==''){searchword='0';}
var filterobject=$("#filterobject").val();if(filterobject==''){filterobject='allrestfood';}
var restaurantid=$("#restaurantid").val();var foodtype=$("#foodtype").val();if(foodtype==''){foodtype='0';}
var pricerange=$("#pricerangesel").val();if(pricerange==''){pricerange='x';}
var dishalcotype=$("#dishalcotype").val();if(dishalcotype==''){dishalcotype='0';}
var dishestype=$("#dishestype").val();if(dishestype==''){dishestype='0';}
var cookingtype=$("#cookingtype").val();if(cookingtype==''){cookingtype='0';}
var tastetype=$("#tastetype").val();if(tastetype==''){tastetype='0';}
var rawmaterialtype=$("#rawmaterialtype").val();if(rawmaterialtype==''){rawmaterialtype='0';}
var newsorttype=$("#sorttype").val();if(newsorttype==''){newsorttype='0';}
$("#pageSize").val(pageSize);var hashstr=filterobject+'_1_'+pageSize+'_'+restaurantid+'_'+newsorttype+'_'+foodtype+'_'+dishalcotype+'_'+pricerange+'_'+dishestype+'_'+cookingtype+'_'+tastetype+'_'+rawmaterialtype+'_'+searchword;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}
sortbyprice=function(obj){var searchword=$("#searchword").val();if(searchword==''){searchword='0';}
var filterobject=$("#filterobject").val();if(filterobject==''){filterobject='allrestfood';}
var restaurantid=$("#restaurantid").val();var foodtype=$("#foodtype").val();if(foodtype==''){foodtype='0';}
var pricerange=$("#pricerangesel").val();if(pricerange==''){pricerange='x';}
var dishalcotype=$("#dishalcotype").val();if(dishalcotype==''){dishalcotype='0';}
var dishestype=$("#dishestype").val();if(dishestype==''){dishestype='0';}
var cookingtype=$("#cookingtype").val();if(cookingtype==''){cookingtype='0';}
var tastetype=$("#tastetype").val();if(tastetype==''){tastetype='0';}
var rawmaterialtype=$("#rawmaterialtype").val();if(rawmaterialtype==''){rawmaterialtype='0';}
var pageSize=$("#pageSize").val();if(pageSize==''){pageSize='10';}
var oldsorttype=$("#sorttype").val();if(oldsorttype=='priceasc'){$("#sorttype").val('pricedesc');}else if(oldsorttype=='pricedesc'){$("#sorttype").val('priceasc');}else{$("#sorttype").val('priceasc');}
var newsorttype=$("#sorttype").val();var hashstr=filterobject+'_1_'+pageSize+'_'+restaurantid+'_'+newsorttype+'_'+foodtype+'_'+dishalcotype+'_'+pricerange+'_'+dishestype+'_'+cookingtype+'_'+tastetype+'_'+rawmaterialtype+'_'+searchword;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}
sortbyeval=function(obj){var searchword=$("#searchword").val();if(searchword==''){searchword='0';}
var filterobject=$("#filterobject").val();if(filterobject==''){filterobject='allrestfood';}
var restaurantid=$("#restaurantid").val();var foodtype=$("#foodtype").val();if(foodtype==''){foodtype='0';}
var pricerange=$("#pricerangesel").val();if(pricerange==''){pricerange='x';}
var dishalcotype=$("#dishalcotype").val();if(dishalcotype==''){dishalcotype='0';}
var dishestype=$("#dishestype").val();if(dishestype==''){dishestype='0';}
var cookingtype=$("#cookingtype").val();if(cookingtype==''){cookingtype='0';}
var tastetype=$("#tastetype").val();if(tastetype==''){tastetype='0';}
var rawmaterialtype=$("#rawmaterialtype").val();if(rawmaterialtype==''){rawmaterialtype='0';}
var pageSize=$("#pageSize").val();if(pageSize==''){pageSize='10';}
var oldsorttype=$("#sorttype").val();if(oldsorttype=='evaluateasc'){$("#sorttype").val('evaluatedesc');}else if(oldsorttype=='evaluatedesc'){$("#sorttype").val('evaluateasc');}else{$("#sorttype").val('evaluateasc');}
var newsorttype=$("#sorttype").val();var hashstr=filterobject+'_1_'+pageSize+'_'+restaurantid+'_'+newsorttype+'_'+foodtype+'_'+dishalcotype+'_'+pricerange+'_'+dishestype+'_'+cookingtype+'_'+tastetype+'_'+rawmaterialtype+'_'+searchword;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}
isnullfilterobject=function(filterobject){if(filterobject==''){return;}else
if(filterobject=='wordsearch'){var searchword=$("#searchword").val();if(searchword==''){return;}}}
clearfilterobjectdata=function(){$("#foodtype").val("");$("#dishalcotype").val("");$("#dishestype").val("");$("#cookingtype").val("");$("#tastetype").val("");$("#rawmaterialtype").val("");}
filterRawmaterialResult=function(foodtype,rawmaterialtype){$("#navChildraw").hide();clearfilterobjectdata();$("#searchword").val('');displayrestsearchlabel(1);var searchword=$("#searchword").val();if(searchword==''){searchword='0';}
$("#filterobject").val('allrestfood');var filterobject=$("#filterobject").val();var restaurantid=$("#restaurantid").val();$("#foodtype").val(foodtype);if(foodtype==''){foodtype='0';}
$("#pricerangesel").val('');var pricerange=$("#pricerangesel").val();if(pricerange==''){pricerange='x';}
var dishalcotype=$("#dishalcotype").val();if(dishalcotype==''){dishalcotype='0';}
var dishestype=$("#dishestype").val();if(dishestype==''){dishestype='0';}
var cookingtype=$("#cookingtype").val();if(cookingtype==''){cookingtype='0';}
var tastetype=$("#tastetype").val();if(tastetype==''){tastetype='0';}
$("#rawmaterialtype").val(rawmaterialtype);if(rawmaterialtype==''){rawmaterialtype='0';}
$("#pageSize").val('');var pageSize=$("#pageSize").val();if(pageSize==''){pageSize='10';}
$("#sorttype").val('');var newsorttype=$("#sorttype").val();if(newsorttype==''){newsorttype='0';}
var hashstr=filterobject+'_1_'+pageSize+'_'+restaurantid+'_'+newsorttype+'_'+foodtype+'_'+dishalcotype+'_'+pricerange+'_'+dishestype+'_'+cookingtype+'_'+tastetype+'_'+rawmaterialtype+'_'+searchword;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}
filterDishesResult=function(foodtype,dishestype){$("#navChilddishes").hide();$("#navChildmainfood").hide();clearfilterobjectdata();$("#searchword").val('');displayrestsearchlabel(1);var searchword=$("#searchword").val();if(searchword==''){searchword='0';}
$("#filterobject").val('allrestfood');var filterobject=$("#filterobject").val();var restaurantid=$("#restaurantid").val();$("#foodtype").val(foodtype);if(foodtype==''){foodtype='0';}
$("#pricerangesel").val('');var pricerange=$("#pricerangesel").val();if(pricerange==''){pricerange='x';}
var dishalcotype=$("#dishalcotype").val();if(dishalcotype==''){dishalcotype='0';}
$("#dishestype").val(dishestype);if(dishestype==''){dishestype='0';}
var cookingtype=$("#cookingtype").val();if(cookingtype==''){cookingtype='0';}
var tastetype=$("#tastetype").val();if(tastetype==''){tastetype='0';}
var rawmaterialtype=$("#rawmaterialtype").val();if(rawmaterialtype==''){rawmaterialtype='0';}
$("#pageSize").val('');var pageSize=$("#pageSize").val();if(pageSize==''){pageSize='10';}
$("#sorttype").val('');var newsorttype=$("#sorttype").val();if(newsorttype==''){newsorttype='0';}
var hashstr=filterobject+'_1_'+pageSize+'_'+restaurantid+'_'+newsorttype+'_'+foodtype+'_'+dishalcotype+'_'+pricerange+'_'+dishestype+'_'+cookingtype+'_'+tastetype+'_'+rawmaterialtype+'_'+searchword;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}
filterCookingResult=function(foodtype,cookingtype){$("#navChildcooking").hide();clearfilterobjectdata();$("#searchword").val('');displayrestsearchlabel(1);var searchword=$("#searchword").val();if(searchword==''){searchword='0';}
$("#filterobject").val('allrestfood');var filterobject=$("#filterobject").val();var restaurantid=$("#restaurantid").val();$("#foodtype").val(foodtype);if(foodtype==''){foodtype='0';}
$("#pricerangesel").val('');var pricerange=$("#pricerangesel").val();if(pricerange==''){pricerange='x';}
var dishalcotype=$("#dishalcotype").val();if(dishalcotype==''){dishalcotype='0';}
var dishestype=$("#dishestype").val();if(dishestype==''){dishestype='0';}
$("#cookingtype").val(cookingtype);if(cookingtype==''){cookingtype='0';}
var tastetype=$("#tastetype").val();if(tastetype==''){tastetype='0';}
var rawmaterialtype=$("#rawmaterialtype").val();if(rawmaterialtype==''){rawmaterialtype='0';}
$("#pageSize").val('');var pageSize=$("#pageSize").val();if(pageSize==''){pageSize='10';}
$("#sorttype").val('');var newsorttype=$("#sorttype").val();if(newsorttype==''){newsorttype='0';}
var hashstr=filterobject+'_1_'+pageSize+'_'+restaurantid+'_'+newsorttype+'_'+foodtype+'_'+dishalcotype+'_'+pricerange+'_'+dishestype+'_'+cookingtype+'_'+tastetype+'_'+rawmaterialtype+'_'+searchword;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}
filterTasteResult=function(foodtype,tastetype){$("#navChildtaste").hide();clearfilterobjectdata();$("#searchword").val('');displayrestsearchlabel(1);var searchword=$("#searchword").val();if(searchword==''){searchword='0';}
$("#filterobject").val('allrestfood');var filterobject=$("#filterobject").val();var restaurantid=$("#restaurantid").val();$("#foodtype").val(foodtype);if(foodtype==''){foodtype='0';}
$("#pricerangesel").val('');var pricerange=$("#pricerangesel").val();if(pricerange==''){pricerange='x';}
var dishalcotype=$("#dishalcotype").val();if(dishalcotype==''){dishalcotype='0';}
var dishestype=$("#dishestype").val();if(dishestype==''){dishestype='0';}
var cookingtype=$("#cookingtype").val();if(cookingtype==''){cookingtype='0';}
$("#tastetype").val(tastetype);if(tastetype==''){tastetype='0';}
var rawmaterialtype=$("#rawmaterialtype").val();if(rawmaterialtype==''){rawmaterialtype='0';}
$("#pageSize").val('');var pageSize=$("#pageSize").val();if(pageSize==''){pageSize='10';}
$("#sorttype").val('');var newsorttype=$("#sorttype").val();if(newsorttype==''){newsorttype='0';}
var hashstr=filterobject+'_1_'+pageSize+'_'+restaurantid+'_'+newsorttype+'_'+foodtype+'_'+dishalcotype+'_'+pricerange+'_'+dishestype+'_'+cookingtype+'_'+tastetype+'_'+rawmaterialtype+'_'+searchword;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}
filterAlcoholResult=function(foodtype,alcoholtype){$("#navChildalco").hide();clearfilterobjectdata();$("#searchword").val('');displayrestsearchlabel(1);var searchword=$("#searchword").val();if(searchword==''){searchword='0';}
$("#filterobject").val('allrestfood');var filterobject=$("#filterobject").val();var restaurantid=$("#restaurantid").val();$("#foodtype").val(foodtype);if(foodtype==''){foodtype='0';}
$("#pricerangesel").val('');var pricerange=$("#pricerangesel").val();if(pricerange==''){pricerange='x';}
$("#dishalcotype").val(alcoholtype);var dishalcotype=$("#dishalcotype").val();if(dishalcotype==''){dishalcotype='0';}
var dishestype=$("#dishestype").val();if(dishestype==''){dishestype='0';}
var cookingtype=$("#cookingtype").val();if(cookingtype==''){cookingtype='0';}
var tastetype=$("#tastetype").val();if(tastetype==''){tastetype='0';}
var rawmaterialtype=$("#rawmaterialtype").val();if(rawmaterialtype==''){rawmaterialtype='0';}
$("#pageSize").val('');var pageSize=$("#pageSize").val();if(pageSize==''){pageSize='10';}
$("#sorttype").val('');var newsorttype=$("#sorttype").val();if(newsorttype==''){newsorttype='0';}
var hashstr=filterobject+'_1_'+pageSize+'_'+restaurantid+'_'+newsorttype+'_'+foodtype+'_'+dishalcotype+'_'+pricerange+'_'+dishestype+'_'+cookingtype+'_'+tastetype+'_'+rawmaterialtype+'_'+searchword;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}
filterSetmealsResult=function(foodtype){$("#navChildsetmeals").hide();clearfilterobjectdata();$("#searchword").val('');displayrestsearchlabel(1);var searchword=$("#searchword").val();if(searchword==''){searchword='0';}
$("#filterobject").val('allrestfood');var filterobject=$("#filterobject").val();var restaurantid=$("#restaurantid").val();$("#foodtype").val(foodtype);if(foodtype==''){foodtype='0';}
$("#pricerangesel").val('');var pricerange=$("#pricerangesel").val();if(pricerange==''){pricerange='x';}
var dishalcotype=$("#dishalcotype").val();if(dishalcotype==''){dishalcotype='0';}
var dishestype=$("#dishestype").val();if(dishestype==''){dishestype='0';}
var cookingtype=$("#cookingtype").val();if(cookingtype==''){cookingtype='0';}
var tastetype=$("#tastetype").val();if(tastetype==''){tastetype='0';}
var rawmaterialtype=$("#rawmaterialtype").val();if(rawmaterialtype==''){rawmaterialtype='0';}
$("#pageSize").val('');var pageSize=$("#pageSize").val();if(pageSize==''){pageSize='10';}
$("#sorttype").val('');var newsorttype=$("#sorttype").val();if(newsorttype==''){newsorttype='0';}
var hashstr=filterobject+'_1_'+pageSize+'_'+restaurantid+'_'+newsorttype+'_'+foodtype+'_'+dishalcotype+'_'+pricerange+'_'+dishestype+'_'+cookingtype+'_'+tastetype+'_'+rawmaterialtype+'_'+searchword;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}
filterotherfoodResult=function(foodtype){$("#navChildotherfood").hide();clearfilterobjectdata();$("#searchword").val('');displayrestsearchlabel(1);var searchword=$("#searchword").val();if(searchword==''){searchword='0';}
$("#filterobject").val('allrestfood');var filterobject=$("#filterobject").val();var restaurantid=$("#restaurantid").val();$("#foodtype").val(foodtype);if(foodtype==''){foodtype='0';}
$("#pricerangesel").val('');var pricerange=$("#pricerangesel").val();if(pricerange==''){pricerange='x';}
var dishalcotype=$("#dishalcotype").val();if(dishalcotype==''){dishalcotype='0';}
var dishestype=$("#dishestype").val();if(dishestype==''){dishestype='0';}
var cookingtype=$("#cookingtype").val();if(cookingtype==''){cookingtype='0';}
var tastetype=$("#tastetype").val();if(tastetype==''){tastetype='0';}
var rawmaterialtype=$("#rawmaterialtype").val();if(rawmaterialtype==''){rawmaterialtype='0';}
$("#pageSize").val('');var pageSize=$("#pageSize").val();if(pageSize==''){pageSize='10';}
$("#sorttype").val('');var newsorttype=$("#sorttype").val();if(newsorttype==''){newsorttype='0';}
var hashstr=filterobject+'_1_'+pageSize+'_'+restaurantid+'_'+newsorttype+'_'+foodtype+'_'+dishalcotype+'_'+pricerange+'_'+dishestype+'_'+cookingtype+'_'+tastetype+'_'+rawmaterialtype+'_'+searchword;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}
triggerFoodSearch=function(filterobject){if(filterobject=='wordsearch'){searchrestword();}else{clickFilterItem(filterobject);}}
filterResult=function(filtertype){var str=new String(filtertype);var filterobject=$("#filterobject").val();if(filterobject=='wordsearch'){var searchword=$("#searchword").val();if(searchword==''){return;}}
if(filterobject==''){return;}else{var strs=str.split(".");$("#foodtype").val("");$("#dishalcotype").val("");$("#foodtype").val(strs[0]);if(strs[0]==1){}else if(strs[0]==2){}else if(strs[0]==3){}else{}
if(strs.length>1){$("#dishalcotype").val(strs[1]);}
if(filterobject=='wordsearch'){searchrestword();}else{clickMeanItem(filterobject);}}}
updateFoodDescription=function(items){for(var i=0;i<items.length;i++){var html='';if(items[i].foodtype==1){html+='<div><span>菜　　系：</span><span class="text_content">'+items[i].disalcotypename+'</span><br></div>'+'<div><span>口　　味：</span><span class="text_content">'+items[i].tastename+'</span><br></div>'+'<div><span>主要食材：</span><span class="text_content">'+items[i].rawmaterialname+'</span><br></div>'+'<div><span>制作方法：</span><span class="text_content">'+items[i].makingmethod+'</span><br></div>'+'<span>描　　述：</span><span class="text_content">'+items[i].intro+'</span>';}else if(items[i].foodtype==2){html+='<div><span>酒　　类：</span><span class="text_content">'+items[i].disalcotypename+'</span><br></div><div><span>品　　牌：</span><span class="text_content">'+items[i].tastename+'</span><br></div><div><span>酒 精 度：</span><span class="text_content">';if(items[i].rawmaterialname==''||items[i].rawmaterialname==null){html+='无';}else{html+=items[i].rawmaterialname+'%';}
html+='</span><br></div><div><span>容量：</span><span class="text_content">'+items[i].makingmethod+'</span><br></div><span>描　　述：</span><span class="text_content">'+items[i].intro+'</span>';}else{html+='<div><span></span><span class="text_content"></span><br></div>'+'<div><span></span><span class="text_content"></span><br></div>'+'<span>描　　述：</span><span class="text_content">'+items[i].intro+'</span>';}
$("#description"+i).html(html);}}
clickFilterItem=function(menuitem){$("#filterobject").val(menuitem);var filterobject=$("#filterobject").val();var pageno=$("#pageno").val();var totalpage=$("#totalpage").val();var restaurantid=$("#restaurantid").val();var sorttype=$("#sorttype").val();var pricerange=$("#pricerangesel").val();var foodtype=$("#foodtype").val();var dishalcotype=$("#dishalcotype").val();var dishestype=$("#dishestype").val();var cookingtype=$("#cookingtype").val();var tastetype=$("#tastetype").val();var rawmaterialtype=$("#rawmaterialtype").val();var pageSize=$("#pageSize").val();var number=Math.random();$.ajax({type:"POST",url:_context+"/orderfood.do?method=getWordSearch",dataType:"json",data:{pageSize:pageSize,pageno:pageno,restaurantid:restaurantid,filterobject:filterobject,sorttype:sorttype,foodtype:foodtype,dishalcotype:dishalcotype,dishestype:dishestype,cookingtype:cookingtype,tastetype:tastetype,rawmaterialtype:rawmaterialtype,pricerange:pricerange,number:number},success:function(json)
{var items=json.fooditems;if(items.length>0){$("#orderitems").html(getDiv(items));updateFoodDescription(items);for(var i=0;i<items.length;i++){if(items[i].specflag==1){$("#specflag"+i).show();}else{$("#specflag"+i).hide();}
if(items[i].unitflag==0||items[i].unitflag==''||items[i].unitflag==null){$("#unitflag"+i).text("");}else{$("#unitflag"+i).text("./"+items[i].unitdesc);}}
for(var i=0;i<items.length;i++){var html='';if(items[i].specflag==1){}else if(items[i].specflag==0&&items[i].discountrate!=10){html+='['+items[i].discountrate+'折]';$("#pricearea"+i).append(html);}}
updateStarComment(items);updateSetmealDetails(items);$("#totalpage").val(json.totalpage);if(json.totalpage>1){if(pageno=='')pageno='1';$("#pager").pager({pagenumber:pageno,pagecount:json.totalpage,buttonClickCallback:PageClick});}else{$("#pager").html('');}}else{$("#pager").html("");$("#orderitems").html('<div><img src="'+_context+'"/images/common/openSoon.png"></div>');$("#orderitems").show();}}});}
clkrestfoodtype2=function(foodtype,restfoodtype,type,obj,alcoholtypename){$("#alcoholtypename").val(alcoholtypename);var filterobject=$("#filterobject").val();var searchword=$("#searchword").val();if(searchword==''){searchword='0';$("span[name='menusectitle']").html('>'+alcoholtypename).show();}else{$("span[name='menusectitle']").html('>关键词\'<font color="black">'+searchword+'</font>\'').show();var thirdhtml='<span style="color:#006FC5" name="menuthirdtitle">>'+alcoholtypename+'</span>';$("span[name='menusectitle']").next().remove();$("span[name='menusectitle']").after(thirdhtml);}
$("#filtertypelist").find('li').removeClass('filtercurrent');if(foodtype==1){$(obj).parent().addClass('filtercurrent');}else{$("#filtertypelist").find('li:last').addClass('filtercurrent');}
var hashstr=filterobject+'_1_'+restaurantid+'_'+restfoodtype+'_'+searchword+'_'+foodtype+'_'+type;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);var body=(window.opera)?(document.compatMode=="CSS1Compat"?$('html'):$('body')):$('html,body');body.animate({scrollTop:$('#right-menu').offset().top-100},50);}
clkrestfoodtype=function(foodtype,restfoodtype,type,obj){var filterobject=$("#filterobject").val();var searchword=$("#searchword").val();if(searchword==''){searchword='0';$("span[name='menusectitle']").html('>'+$(obj).html()).show();}else{$("span[name='menusectitle']").html('>关键词\'<font color="black">'+searchword+'</font>\'').show();var thirdhtml='<span style="color:#006FC5" name="menuthirdtitle">>'+$(obj).html()+'</span>';$("span[name='menusectitle']").next().remove();$("span[name='menusectitle']").after(thirdhtml);}
$("#filtertypelist").find('li').removeClass('filtercurrent');if(foodtype==1){$(obj).parent().addClass('filtercurrent');}else{$("#filtertypelist").find('li:last').addClass('filtercurrent');}
var hashstr=filterobject+'_1_'+restaurantid+'_'+restfoodtype+'_'+searchword+'_'+foodtype+'_'+type;hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);var body=(window.opera)?(document.compatMode=="CSS1Compat"?$('html'):$('body')):$('html,body');body.animate({scrollTop:$('#right-menu').offset().top-100},50);}
$("#allrestfood").click(function(){$("span[name='menutitle']").html('所有');$("span[name='menutitle']").unbind('click');$("span[name='menutitle']").bind('click',function(event){$("#allrestfood").click();event.stopPropagation();});$("span[name='menutitle']").next().hide();$("span[name='menuthirdtitle']").remove();$("#filtertypelist").find('li').removeClass('filtercurrent');var restfiltertype=$("#restfiltertype").val();var hashstr='';if(restfiltertype=='0'||restfiltertype=='2'){hashstr='allrestfood_1_'+restaurantid+'_0_0_x_x';}else{hashstr='allrestfood_1_10_'+restaurantid+'_0_0_0_x_0_0_0_0_0';}
hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);});$("#restrecommfood").click(function(){$("span[name='menutitle']").html('今日推荐');$("span[name='menutitle']").unbind('click');$("span[name='menutitle']").bind('click',function(event){$("#restrecommfood").click();event.stopPropagation();});$("span[name='menutitle']").next().hide();$("span[name='menuthirdtitle']").remove();var restfiltertype=$("#restfiltertype").val();$("#filtertypelist").find('li').removeClass('filtercurrent');var hashstr='';if(restfiltertype=='0'||restfiltertype=='2'){hashstr='restrecommfood_1_'+restaurantid+'_0_0_x_x';}else{hashstr='restrecommfood_1_10_'+restaurantid+'_0_0_0_x_0_0_0_0_0';}
hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);});$("#restspecfood").click(function(){$("span[name='menutitle']").html('今日特价');$("span[name='menutitle']").unbind('click');$("span[name='menutitle']").bind('click',function(event){$("#restspecfood").click();event.stopPropagation();});$("span[name='menutitle']").next().hide();$("span[name='menuthirdtitle']").remove();var restfiltertype=$("#restfiltertype").val();$("#filtertypelist").find('li').removeClass('filtercurrent');var hashstr='';if(restfiltertype=='0'||restfiltertype=='2'){hashstr='restspecfood_1_'+restaurantid+'_0_0_x_x';}else{hashstr='restspecfood_1_10_'+restaurantid+'_0_0_0_x_0_0_0_0_0';}
hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);});$("#custconsump").click(function(){common=function(){var restfiltertype=$("#restfiltertype").val();$("span[name='menutitle']").html('我吃过的美食');$("span[name='menutitle']").unbind('click');$("span[name='menutitle']").bind('click',function(event){$("#custconsump").click();event.stopPropagation();});$("span[name='menutitle']").next().hide();$("span[name='menuthirdtitle']").remove();var hashstr='';if(restfiltertype=='0'||restfiltertype=='2'){$("#filtertypelist").find('li').removeClass('filtercurrent');hashstr='custconsump_1_'+restaurantid+'_0_0_x_x';}else{hashstr='custconsump_1_10_'+restaurantid+'_0_0_0_x_0_0_0_0_0';}
hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}
$.ajax({type:"POST",url:_context+"/custcentercontroller-getLoginid.html",dataType:"json",success:function(json){var _loginid=json.customerid;if(_loginid==''||_loginid==null||_loginid=='undefined'){$("#customerlogindialog").dialog('open');}else{var restfiltertype=$("#restfiltertype").val();$("span[name='menutitle']").html('我吃过的美食');$("span[name='menutitle']").unbind('click');$("span[name='menutitle']").bind('click',function(event){$("#custconsump").click();event.stopPropagation();});$("span[name='menutitle']").next().hide();$("span[name='menuthirdtitle']").remove();var hashstr='';if(restfiltertype=='0'||restfiltertype=='2'){$("#filtertypelist").find('li').removeClass('filtercurrent');hashstr='custconsump_1_'+restaurantid+'_0_0_x_x';}else{hashstr='custconsump_1_10_'+restaurantid+'_0_0_0_x_0_0_0_0_0';}
hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}}});});$("#custfavorite").click(function(){common=function(){var restfiltertype=$("#restfiltertype").val();$("span[name='menutitle']").html('我的收藏');$("span[name='menutitle']").unbind('click');$("span[name='menutitle']").bind('click',function(event){$("#custfavorite").click();event.stopPropagation();});$("span[name='menutitle']").next().hide();$("span[name='menuthirdtitle']").remove();var hashstr='';if(restfiltertype=='0'||restfiltertype=='2'){$("#filtertypelist").find('li').removeClass('filtercurrent');hashstr='custfavorite_1_'+restaurantid+'_0_0_x_x';}else{hashstr='custfavorite_1_10_'+restaurantid+'_0_0_0_x_0_0_0_0_0';}
hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}
$.ajax({type:"POST",url:_context+"/custcentercontroller-getLoginid.html",dataType:"json",success:function(json){var _loginid=json.customerid;if(_loginid==''||_loginid==null||_loginid=='undefined'){$("#customerlogindialog").dialog('open');}else{var restfiltertype=$("#restfiltertype").val();$("span[name='menutitle']").html('我的收藏');$("span[name='menutitle']").unbind('click');$("span[name='menutitle']").bind('click',function(event){$("#custfavorite").click();event.stopPropagation();});$("span[name='menutitle']").next().hide();$("span[name='menuthirdtitle']").remove();var hashstr='';if(restfiltertype=='0'||restfiltertype=='2'){$("#filtertypelist").find('li').removeClass('filtercurrent');hashstr='custfavorite_1_'+restaurantid+'_0_0_x_x';}else{hashstr='custfavorite_1_10_'+restaurantid+'_0_0_0_x_0_0_0_0_0';}
hashstr=hashstr.replace(/^.*#/,'');$.historyLoad(hashstr);}}});});clickMeanItem=function(menuitem){common=function(){clickOrderfoodMeanItem(menuitem);}
if(menuitem=='custconsump'||menuitem=='custfavorite'){if(_loginid==''){openIntologin();return;}}
clickOrderfoodMeanItem(menuitem);}
clickOrderfoodMeanItem=function(menuitem){$("#tabs ul li").removeAttr("class");$("#"+menuitem).parent().attr("class","current");clearInfo(menuitem);$("#searchword").val("");$("#filterobject").val(menuitem);var filterobject=$("#filterobject").val();var pageno=$("#pageno").val();var restaurantid=$("#restaurantid").val();var sorttype=$("#sorttype").val();var foodtype=$("#foodtype").val();var dishalcotype=$("#dishalcotype").val();var dishestype=$("#dishestype").val();var cookingtype=$("#cookingtype").val();var tastetype=$("#tastetype").val();var rawmaterialtype=$("#rawmaterialtype").val();var pageSize=$("#pageSize").val();var number=Math.random();$.ajax({type:"POST",url:_context+"/orderfood.do?method=getWordSearch",dataType:"json",data:{pageSize:pageSize,pageno:pageno,restaurantid:restaurantid,filterobject:filterobject,sorttype:sorttype,foodtype:foodtype,dishalcotype:dishalcotype,dishestype:dishestype,cookingtype:cookingtype,tastetype:tastetype,rawmaterialtype:rawmaterialtype,number:number},success:function(json)
{var items=json.fooditems;if(items.length>0){$("#orderitems").html("");$("#orderitems").html(getDiv(items));updateFoodDescription(items);for(var i=0;i<items.length;i++){if(items[i].specflag==1){$("#specflag"+i).show();}else{$("#specflag"+i).hide();}
if(items[i].unitflag==0||items[i].unitflag==''||items[i].unitflag==null){$("#unitflag"+i).text("");}else{$("#unitflag"+i).text("./"+items[i].unitdesc);}}
for(var i=0;i<items.length;i++){var html='';if(items[i].specflag==1){}else if(items[i].specflag==0&&items[i].discountrate!=10){html+='['+items[i].discountrate+'折]';$("#pricearea"+i).append(html);}}
updateStarComment(items);updateSetmealDetails(items);$("#totalpage").val(json.totalpage);if(json.totalpage>1){$("#pager").pager({pagenumber:pageno,pagecount:json.totalpage,buttonClickCallback:PageClick});}else{$("#pager").html('');}}else{$("#pager").html("");$("#orderitems").html('  <div class="noticeSign "><h3> 很抱歉！暂无记录，请重新操作！</h3> </div>');$("#title_c").show();$("#orderitems").show();}}});}
var MyInterval=setInterval("showcartdata()",1000);var cartpagesize=1;showcartdata=function(){var cartlist=$.cookie("cartcookie");if(cartlist!=''&&cartlist!=null){$("div#cart_list ul").html(getCartDiv(cartlist,cartpagesize));$("#totalfoodnums").text("");$("#totalfoodnums").text(getCartTotalnums(cartlist));$("#totalfoodmoney").text("");$("#totalfoodmoney").text(getCartTotalPrice(cartlist));}else{$("div#cart_list ul").html("");$("#totalfoodnums").text("0");$("#totalfoodmoney").text("0");}}
getCartTotalPrice=function(cartlist){var totalmoney=0.0;var tempcartlist=new String(cartlist);var cartlistarray=tempcartlist.split("|");var i=2;while(i<cartlistarray.length){totalmoney+=formatFloat(cartlistarray[i],2);i+=5;}
totalmoney=formatFloat(totalmoney,2);return totalmoney;}
getCartTotalnums=function(cartlist){var totalnums=0;var tempcartlist=new String(cartlist);var cartlistarray=tempcartlist.split("|");var i=3;while(i<cartlistarray.length){totalnums+=parseInt(cartlistarray[i]);i+=5;}
return totalnums;}
colFavoriteFood=function(foodid,foodtype,restaurantid){common=function(){ajaxColFavoriteFood(foodid,foodtype,restaurantid);};$.ajax({type:"POST",url:_context+"/custcentercontroller-getLoginid.html",dataType:"json",success:function(json){var _loginid=json.customerid;if(_loginid==''||_loginid==null||_loginid=='undefined'){$("#customerlogindialog").dialog('open');}else{ajaxColFavoriteFood(foodid,foodtype,restaurantid);}}});}
ajaxColFavoriteFood=function(foodid,foodtype,restaurantid){$.ajax({type:"POST",url:_context+"/orderfood.do?method=fooddetailAddToFavorite",dataType:"json",data:{foodid:foodid,foodtype:foodtype,restaurantid:restaurantid},success:function(json)
{$("#fooddetail_consumpcounts").html(json.consumpcounts);$("#fooddetail_consumprk").html(json.consumprk);$("#fooddetail_commcounts").html(json.commcounts);$("#fooddetail_commrk").html(json.commrk);$("#fooddetail_colcounts").html(json.colcounts);$("#fooddetail_colrk").html(json.colrk);$("#fooddetail_hotrk").html(json.hotrk);var hotrk=json.hotrk;$("#hotrkpercent").css("width",hotrk*300/100);bsuccess=json.bsuccess;if(bsuccess==true){$("#colfoodsuccessdig").dialog('open');}else{$("#colfoodfaileddig").dialog('open');}}});}
getCartDiv=function(cartlist,cartpagesize){var tempcartlist=new String(cartlist);var cartlistarray=tempcartlist.split("|");var totalpagesize=parseInt(parseInt(cartlistarray.length+30-1)/parseInt(30));if(cartpagesize>totalpagesize){cartpagesize=totalpagesize;}
var html='';var i=(cartpagesize-1)*30;var pagelength=parseInt(cartpagesize)*30;while(i<cartlistarray.length&&i<pagelength){html+='<li><span style="margin-left:2px;margin-right:7px;padding-top:1px;float:left;"><img src="'+_context+'/images/orderfood/lite_10.jpg" width="11" height="11" /></span>'+'<span class="food_name">'+cartlistarray[i+4]+'</span>'+'<div class="suokuai"><span class="decrease" onclick="javascript:delAddCartQuantity('+i+', 1, '+cartlistarray[i]+', '+cartlistarray[i+1]+')"><img src="'+_context+'/images/orderfood/yjian.jpg"/></span>'+'<div style="position:relative;top:-1px !important;"><input id="cartquantiy'+i+'" value="'+cartlistarray[i+3]+'"/></div>'+'<span class="increase" onclick="javascript:delAddCartQuantity('+i+', 0, '+cartlistarray[i]+', '+cartlistarray[i+1]+')"><img src="'+_context+'/images/orderfood/yjia.jpg"/>  </span></div>'+'<span style="float:left;">'+cartlistarray[i+2]+'元</span ><span class="delete"><a href="javascript:delCartRecord('+cartlistarray[i]+', '+cartlistarray[i+1]+')">删除</a></span></li>';i+=5;}
if(totalpagesize>1){if(cartpagesize>1&&cartpagesize<totalpagesize){html+='<li style="text-align:center;"><span><a href="javascript:prevPage();">上一页</a></span><span style="margin-left:10px;"><a href="javascript:cartNextPage();">下一页</a></span></li>';}else if(cartpagesize==totalpagesize){html+='<li style="text-align:center;"><span><a href="javascript:prevPage();">上一页</a></span><span style="margin-left:10px;color:gray;">下一页</span></li>';}else{html+='<li style="text-align:center;"><span style="color:gray;">上一页</a></span><span style="margin-left:10px;"><a href="javascript:cartNextPage();">下一页</a></span></li>';}}
jQuery.trim(html);return html;}
cartNextPage=function(){cartpagesize++;}
prevPage=function(){cartpagesize--;}
getDiv=function(items){var html='';var xmlDom=getModelObject();var itemsObj=xmlGetElementsByName(xmlDom,"item","orderfooditem");var keys=getModelKeys(itemsObj[0]);var modelValue=jQuery.trim(getModelValue(itemsObj[0]));for(var i=0;i<items.length;i++){var item=modelValue;item=modelReplace(item,keys,[items[i].name,items[i].intro,_context,items[i].price,items[i].curprice,items[i].foodid,items[i].foodtype,i,$("#restaurantid").val(),$("#restaurantname").val(),items[i].colcounts,items[i].consumpcounts,items[i].picpath]);html+=item;}
return html;}
$("#ajaxsuggest").ajaxStart(function(){$(this).show();});$("#ajaxsuggest").ajaxStop(function(){$(this).hide();});if(load=='true'){var totalpage=$("#totalpage").val();var pageno=$("#pageno").val();if(totalpage>1){$("#pager").pager({pagenumber:pageno,pagecount:totalpage,buttonClickCallback:PageClick});}}
moveovermainfood=function(obj){$(obj).parent().find('li').each(function(){$(this).find('div:eq(0)').hide();});}
moveoversetmealsotherfood=function(obj){$(obj).parent().find('li').each(function(){$(this).find('div:eq(0)').hide();});}
function stopEvent(ev){var evt=window.event?window.event:ev;if(window.event){evt.cancelBubble=true;}else{evt.stopPropagation();}}
$(document).mouseover(function(){$(".left_menu_inner").find('.navChild').hide();});moveoverfilterfood=function(ev,obj){$(obj).parent().find('li').each(function(){$(this).find('div:eq(0)').hide();});var childs=0;$(obj).find('a').each(function(){childs+=1;});if(childs==1){$(obj).find('.navChild').hide();return;}
$(obj).find('div:eq(0)').show();$(obj).find('div:eq(2)').show();stopEvent(ev);}
moveoutfilterfood=function(obj){$(obj).prev().removeClass();$(obj).hide();}});



